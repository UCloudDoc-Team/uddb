# 产品概要

{{indexmenu_n>60}}

## 单机数据库面临的挑战

1、容量瓶颈问题；单机数据库扩容的方式一般都是scale-up，即通过增加磁盘容量来达到数据库扩容的目的，然而当容量扩充到一定程度时，数据备份、数据管理(DDL)、增删查改(DML)的性能都会出现大幅下滑，严重影响业务的发展。

2、性能瓶颈问题；互联网业务大多是读多写少的场景，单机数据库的QPS有限制，无法支撑超大并发的业务访问。

## UDDB的解决方案

### 架构设计

![image](/images/0.png)

### 主要功能

1、水平分表

UDDB通过水平分表来解决容量瓶颈问题，根据一列数据的值把数据行拆分到多个独立的表里。对于开发人员来说，不再需要关心如何切分数据、如何路由请求等待，只需初始化分片字段（shardkey），直接面向逻辑库表进行编程、专注业务逻辑的实现即可，大大降低了程序的复杂度。

2、读写分离

UDDB的读写分离功能是一种对应用透明的读写分离实现，应用在不需要修改任何代码的情况下，只需要在UDDB控制台中调整读权重，即可将读流量按照需要的比例在存储节点与只读实例之间调整。写流量则统一走存储节点，不分流。

\*UDDB的读写分离指的是对事务外的查询请求做读写分离, 事务中出现写请求后,
当次事务中所有读请求都会走到主库（存储节点）,而不会按照设置的读写分离权重去走从库（只读实例）。\*

3、垂直建表

可以在创建水平分区表的同时创建普通表，普通表可以指定创建到某个存储节点。

### 主要模块

1、中间件

用来做sql路由和查询结果的聚合、读写分离、以及对存储节点的管理。

2、存储节点

即高可用UDB实例，用来存储分表的数据。

3、只读实例

存储节点的从库，普通的UDB实例，只能对其进行读操作。

## UDDB的应用场景

1、通过水平分表突破单机数据库瓶颈

![image](/images/01.png)

2、通过读写分离来提高数据库读能力，业务代码无需做任何修改，无需迁移数据，非常适合在短时间内大幅提升数据库读性能的需求。

![image](/images/02.png)
